{
  "id": "bcfe4622-791d-4ec3-ab1c-23ce1c7d38d2",
  "revision": 0,
  "last_node_id": 13,
  "last_link_id": 27,
  "nodes": [
    {
      "id": 1,
      "type": "PackParser",
      "pos": [
        -1877.0904007011422,
        -3358.448848741004
      ],
      "size": [
        400,
        256
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "subj",
          "type": "STRING",
          "links": []
        },
        {
          "name": "costume",
          "type": "STRING",
          "links": [
            2
          ]
        },
        {
          "name": "loc",
          "type": "STRING",
          "links": [
            3
          ]
        },
        {
          "name": "action",
          "type": "STRING",
          "links": [
            4
          ]
        },
        {
          "name": "meta_mood",
          "type": "STRING",
          "links": [
            9,
            14
          ]
        },
        {
          "name": "meta_style",
          "type": "STRING",
          "links": []
        },
        {
          "name": "scene_tags",
          "type": "STRING",
          "links": [
            12
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "PackParser",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.6.2"
        }
      },
      "widgets_values": [
        "{}",
        545087895681108,
        "randomize"
      ]
    },
    {
      "id": 3,
      "type": "ThemeClothingExpander",
      "pos": [
        -1043.0747536254703,
        -3665.8875341642474
      ],
      "size": [
        311,
        150
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "theme_key",
          "type": "STRING",
          "link": 5
        },
        {
          "name": "character_palette",
          "shape": 7,
          "type": "STRING",
          "link": 6
        }
      ],
      "outputs": [
        {
          "name": "clothing_prompt",
          "type": "STRING",
          "links": [
            17
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ThemeClothingExpander",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.6.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        401147865112086,
        "randomize",
        "random",
        0.3
      ]
    },
    {
      "id": 6,
      "type": "CharacterProfileNode",
      "pos": [
        -1835.1220377293398,
        -3650.5095486146215
      ],
      "size": [
        281.92734375,
        210
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "subj_prompt",
          "type": "STRING",
          "links": [
            1
          ]
        },
        {
          "name": "hair_color",
          "type": "STRING",
          "links": null
        },
        {
          "name": "eye_color",
          "type": "STRING",
          "links": null
        },
        {
          "name": "personality",
          "type": "STRING",
          "links": [
            13
          ]
        },
        {
          "name": "color_palette_str",
          "type": "STRING",
          "links": [
            6
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CharacterProfileNode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.6.2"
        }
      },
      "widgets_values": [
        "random",
        "Aiko (Quiet)",
        189887791966763,
        "randomize"
      ]
    },
    {
      "id": 7,
      "type": "DictionaryExpand",
      "pos": [
        -1432.203269365009,
        -3467.631333307552
      ],
      "size": [
        273,
        130
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "name": "key",
          "type": "STRING",
          "link": 14
        }
      ],
      "outputs": [
        {
          "name": "expanded_text",
          "type": "STRING",
          "links": [
            15,
            21
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "DictionaryExpand",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.6.2"
        }
      },
      "widgets_values": [
        "mood_map.json",
        "",
        125994066080914,
        "randomize"
      ]
    },
    {
      "id": 8,
      "type": "PreviewAny",
      "pos": [
        -1387.018542627391,
        -3722.291808794207
      ],
      "size": [
        210,
        166
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 15
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewAny",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.6.2",
          "input_ue_unconnectable": {}
        },
        "cnr_id": "comfy-core",
        "ver": "0.13.0"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 10,
      "type": "PreviewAny",
      "pos": [
        -554.3491938003438,
        -3667.718888743147
      ],
      "size": [
        414,
        163
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 22
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewAny",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.6.2",
          "input_ue_unconnectable": {}
        },
        "cnr_id": "comfy-core",
        "ver": "0.13.0"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 4,
      "type": "ThemeLocationExpander",
      "pos": [
        -1031.2054574923282,
        -3448.1215919224346
      ],
      "size": [
        311,
        130
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "loc_tag",
          "type": "STRING",
          "link": 7
        }
      ],
      "outputs": [
        {
          "name": "location_prompt",
          "type": "STRING",
          "links": [
            18
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ThemeLocationExpander",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.6.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        448681214253638,
        "randomize",
        "simple"
      ]
    },
    {
      "id": 5,
      "type": "GarnishSampler",
      "pos": [
        -1022.5732421227697,
        -3249.8085072430563
      ],
      "size": [
        311,
        230
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "action_text",
          "type": "STRING",
          "link": 8
        },
        {
          "name": "meta_mood_key",
          "type": "STRING",
          "link": 9
        },
        {
          "name": "context_loc",
          "type": "STRING",
          "link": 10
        },
        {
          "name": "context_costume",
          "type": "STRING",
          "link": 11
        },
        {
          "name": "scene_tags",
          "shape": 7,
          "type": "STRING",
          "link": 12
        },
        {
          "name": "personality",
          "shape": 7,
          "type": "STRING",
          "link": 13
        }
      ],
      "outputs": [
        {
          "name": "garnish_string",
          "type": "STRING",
          "links": [
            20
          ]
        },
        {
          "name": "debug_info",
          "type": "DICT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "GarnishSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.6.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        830470134949112,
        "randomize",
        2,
        false
      ]
    },
    {
      "id": 2,
      "type": "SceneVariator",
      "pos": [
        -1072.208480497728,
        -3932.2096878598313
      ],
      "size": [
        311,
        210
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "subj",
          "type": "STRING",
          "link": 1
        },
        {
          "name": "costume",
          "type": "STRING",
          "link": 2
        },
        {
          "name": "loc",
          "type": "STRING",
          "link": 3
        },
        {
          "name": "action",
          "type": "STRING",
          "link": 4
        }
      ],
      "outputs": [
        {
          "name": "subj",
          "type": "STRING",
          "links": [
            16
          ]
        },
        {
          "name": "costume",
          "type": "STRING",
          "links": [
            5,
            11
          ]
        },
        {
          "name": "loc",
          "type": "STRING",
          "links": [
            7,
            10
          ]
        },
        {
          "name": "action",
          "type": "STRING",
          "links": [
            8,
            19
          ]
        },
        {
          "name": "debug_info",
          "type": "DICT",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "SceneVariator",
        "ue_properties": {
          "widget_ue_connectable": {
            "seed": true,
            "variation_mode": true
          },
          "version": "7.6.2",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        649549279080162,
        "randomize",
        "genre_only"
      ]
    },
    {
      "id": 12,
      "type": "PreviewAny",
      "pos": [
        284.9172103345688,
        -3713.1434973446876
      ],
      "size": [
        437.6710795760978,
        451.3563711483712
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 27
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewAny",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.6.2",
          "input_ue_unconnectable": {}
        },
        "cnr_id": "comfy-core",
        "ver": "0.13.0"
      },
      "widgets_values": [
        null,
        null,
        null
      ]
    },
    {
      "id": 9,
      "type": "SimpleTemplateBuilder",
      "pos": [
        -579.7386266140595,
        -3411.1618549976674
      ],
      "size": [
        400,
        280
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "subj",
          "shape": 7,
          "type": "STRING",
          "link": 16
        },
        {
          "name": "costume",
          "shape": 7,
          "type": "STRING",
          "link": 17
        },
        {
          "name": "loc",
          "shape": 7,
          "type": "STRING",
          "link": 18
        },
        {
          "name": "action",
          "shape": 7,
          "type": "STRING",
          "link": 19
        },
        {
          "name": "garnish",
          "shape": 7,
          "type": "STRING",
          "link": 20
        },
        {
          "name": "meta_mood",
          "shape": 7,
          "type": "STRING",
          "link": 21
        },
        {
          "name": "meta_style",
          "shape": 7,
          "type": "STRING",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "built_prompt",
          "type": "STRING",
          "links": [
            22,
            26
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SimpleTemplateBuilder",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.6.2"
        }
      },
      "widgets_values": [
        "",
        869292960516911,
        867984295064469,
        "randomize"
      ]
    },
    {
      "id": 13,
      "type": "INT8_Hunyuan_PromptEnhancer",
      "pos": [
        -119.59485001028979,
        -3445.589260516884
      ],
      "size": [
        400,
        358
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 26
        }
      ],
      "outputs": [
        {
          "name": "enhanced_prompt",
          "type": "STRING",
          "links": [
            27
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "INT8_Hunyuan_PromptEnhancer"
      },
      "widgets_values": [
        "",
        "illustration (Tag List)",
        0.7,
        0.9,
        768,
        1113320570730166,
        "randomize",
        true,
        "cuda:0",
        "auto",
        ""
      ]
    }
  ],
  "links": [
    [
      1,
      6,
      0,
      2,
      0,
      "STRING"
    ],
    [
      2,
      1,
      1,
      2,
      1,
      "STRING"
    ],
    [
      3,
      1,
      2,
      2,
      2,
      "STRING"
    ],
    [
      4,
      1,
      3,
      2,
      3,
      "STRING"
    ],
    [
      5,
      2,
      1,
      3,
      0,
      "STRING"
    ],
    [
      6,
      6,
      4,
      3,
      1,
      "STRING"
    ],
    [
      7,
      2,
      2,
      4,
      0,
      "STRING"
    ],
    [
      8,
      2,
      3,
      5,
      0,
      "STRING"
    ],
    [
      9,
      1,
      4,
      5,
      1,
      "STRING"
    ],
    [
      10,
      2,
      2,
      5,
      2,
      "STRING"
    ],
    [
      11,
      2,
      1,
      5,
      3,
      "STRING"
    ],
    [
      12,
      1,
      6,
      5,
      4,
      "STRING"
    ],
    [
      13,
      6,
      3,
      5,
      5,
      "STRING"
    ],
    [
      14,
      1,
      4,
      7,
      0,
      "STRING"
    ],
    [
      15,
      7,
      0,
      8,
      0,
      "STRING"
    ],
    [
      16,
      2,
      0,
      9,
      0,
      "STRING"
    ],
    [
      17,
      3,
      0,
      9,
      1,
      "STRING"
    ],
    [
      18,
      4,
      0,
      9,
      2,
      "STRING"
    ],
    [
      19,
      2,
      3,
      9,
      3,
      "STRING"
    ],
    [
      20,
      5,
      0,
      9,
      4,
      "STRING"
    ],
    [
      21,
      7,
      0,
      9,
      5,
      "STRING"
    ],
    [
      22,
      9,
      0,
      10,
      0,
      "STRING"
    ],
    [
      26,
      9,
      0,
      13,
      0,
      "STRING"
    ],
    [
      27,
      13,
      0,
      12,
      0,
      "STRING"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "workflowRendererVersion": "LG",
    "ue_links": [],
    "ds": {
      "scale": 1.7474640838085858,
      "offset": [
        195.00011532530783,
        3784.008820669279
      ]
    },
    "frontendVersion": "1.38.14"
  },
  "version": 0.4
}